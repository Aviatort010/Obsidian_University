Многозначные зависимости(МЗ). Правила вывода для МЗ. Четвертая НФ.


Пусть задана схема отношений ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image002.png), атрибуты ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image004.png) ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image006.png). ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image008.png) (_X_ мультиопределяет  _Y_) – многозначная зависимость, если: ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image010.png)Из симметрии определения ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image012.png) и ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image014.png) следует, что в ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image016.png) существует ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image018.png):![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image020.png).

           _X             Y          Z_

![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image021.png)![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image022.png)![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image023.png)![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image024.png)_t1_

![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image025.png)![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image025.png)![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image024.png)_t2_

![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image024.png)_t3_

Правила вывода (аксиомы) для многозначных зависимостей.

**А1. Дополнение**

Если ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image008.png), то ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image028.png)      

**А2. Пополнение**

Если ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image008.png) и ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image030.png), то ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image032.png) 

**А3. Транзитивность**

Если ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image008.png) и ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image035.png), то ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image037.png) 

**А4.![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image039.jpg)**

**А5.![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image041.jpg)**

**А6. Объединение**

Если ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image043.png) и ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image045.png), то ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image047.png) 

**А7. Псеводтранзитивность**

Если  ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image049.png), то ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image051.png) 

**А8. Декомпозиция**

Если ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image008.png) и ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image035.png), то

![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image053.png)

![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image055.png)

![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image057.png)

Утверждение 1. Пусть ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image059.png), ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image043.png), ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image062.png), тогда ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image045.png) 

Утверждение 2. Пусть ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image059.png), ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image062.png), то ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image045.png) тогда, когда существует декомпозиция отношения ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image065.png): ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image067.png), где ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image069.png), ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image071.png). Она обладает свойством соединения без потерь.

Обозначим ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image073.png) – функциональные зависимости, а ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image075.png) – многозначные зависимости. Пусть ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image077.png).

**_Четвертая нормальная форма_**

 Отношение ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image065.png) находится в 4НФ относительно ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image079.png), если ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image081.png), содержащего ключ отношения ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image065.png) и мультиопределяющего ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image084.png) (![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image043.png)), выполняется: ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image087.png), ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image089.png) и ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image091.png).

Теорема**.** Если ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image065.png) в 4НФ относительно ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image079.png), то оно в НФБК относительно ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image073.png).

Для приведения отношения к 4НФ используется декомпозиция, которая обладает свойством соединения без потерь тогда, когда существуют зависимости: ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image094.png) и ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image096.png).



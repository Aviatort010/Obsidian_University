Аномалии, возникающие при проектировании БД. Нормализация отношений.


При проектировании БД возможно возникновение проблем:  
**_-избыточности_** и**_  
-аномалий_** при выполнении операций:  
         1) включения,  
         2) удаления,  
         3)обновления данных.

Например: Поставщик (ФИО, номер, адрес, товар, количество)R1 (номер пост, имя, адрес)  
R2 (номер пост, номер товара, кол-во)  
  
Избежать избыточности и аномалий позволяет нормализация отношений. Введены 4 уровня нормализации схем отношений, которые называются **_нормальными формами_**.

1. **_Первая нормальная форма._** Схема отношений R() находится в 1НФ т и т.т. , когда все входящие в неё атрибуты являются атомарными (недилимыми).  
2. **_Вторая нормальная форма._** _Y_ _–_ первичный атрибут т. и т.т. , когда он является элементом ключа отношения  _R_, т.е. существует ключ _X_ отношения _R_ такой, что ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image002.png). Аналогично определяется непервичный атрибут.  
Пусть _А_ – непервичный, _Y –_ первичный атрибут, а _X_ – ключ отношения _R_ . Говорят, что в отношении _R_ имеет место **_частичная зависимость (неполная функциональная зависимость)_** , когда наблюдается: _X__à__A_ и _Y__à__A_ (*)  
Если условие (*) не выполняется, то говорят, что атрибут _A_ **_функционально полно_** зависит от _Х_ т. и т.т., когда ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image004.png)  
Схема отношений _R()_  находится во 2НФ, если она находится в 1НФ и каждый её непервичный атрибут функционально полно зависит от ключа, т.е. для однозначной идентификации каждого неключевого атрибута требуется весь непервичный ключ.  
3. **_Третья нормальная форма._** Атрибут ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image006.png) называется **_транзитивно зависимым_** от ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image008.png) в ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image010.png), если существует подмножество ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image012.png) такое, что ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image014.png) относительно (мн-ва функц. зав-й)![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image016.png) и ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image018.png).  
_Другими словами_, схема отношений находится в 3НФ относительно множества функциональных зависимостей ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image016.png), если она находится в 1НФ и ни один из непервичных атрибутов в ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image010.png) не является транзитивно зависимым от ключа для ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image010.png).

**Замечание 1.** Если схема в 3НФ относительно ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image016.png), то она и в 2НФ.

4.**_Нормальная форма Бойса-Кодда._** Схема отношений ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image023.png) находится в НФБК относительно ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image016.png), если она находится в 1НФ и никакой атрибут в ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image010.png) не зависит транзитивно ни от одного ключа ![](file:///C:/Users/BADF~1/AppData/Local/Temp/msohtmlclip1/01/clip_image010.png).

Замечание. Если схема в НФБК, то она и в 3НФ.

Общее замечание. 2НФ, 3НФ и НФБК определены не друг через друга (т.е. НФБК есть расширенная 3НФ и т.п.), а как расширенная 1НФ!


